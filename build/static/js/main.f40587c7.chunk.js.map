{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","services/api.js","components/Loader/Loader.js","components/Modal/Modal.js","App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","SearchBar","state","query","handleQueryChange","evt","setState","target","value","handleQuerySubmit","preventDefault","props","onSubmit","this","className","stylesSearchbar","Searchbar","SearchForm","type","SearchFormButton","SearchFormInput","autoComplete","placeholder","onChange","Component","ImageGalleryItem","imageItem","onOpenModalWindow","stylesImageGalleryItem","onClick","largeImageURL","src","webformatURL","alt","ImageGalleryItemImage","ImageGallery","items","stylesImageGallery","map","item","key","id","Button","onNextPage","stylesButton","fetchItems","page","path","axios","get","Loader","stylesLoader","loader","color","height","width","timeout","Modal","largeImage","closeModalWindow","stylesModal","Overlay","App","isLoading","isModalWindowOpen","getItemsFromServer","then","resData","prevState","data","hits","setTimeout","catch","err","console","log","nextPage","length","queryOnSubmit","openModalWindow","window","addEventListener","currentTarget","keyCode","removeEventListener","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f40587c7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport stylesSearchbar from './Searchbar.module.css';\n\nexport default class SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    query: '',\n  };\n\n  handleQueryChange = evt => {\n    this.setState({ query: evt.target.value });\n  };\n\n  handleQuerySubmit = evt => {\n    evt.preventDefault();\n    const { query } = this.state;\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={stylesSearchbar.Searchbar}>\n        <form\n          onSubmit={this.handleQuerySubmit}\n          className={stylesSearchbar.SearchForm}\n        >\n          <button type=\"submit\" className={stylesSearchbar.SearchFormButton}>\n            {/* <span className={stylesSearchbar.SearchFormButtonLabel} /> */}\n          </button>\n          <input\n            className={stylesSearchbar.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            // autoFocus=\"on\"\n            placeholder=\"Enter some text\"\n            value={query}\n            onChange={this.handleQueryChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable react/prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport stylesImageGalleryItem from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ imageItem, onOpenModalWindow }) => (\n  <li\n    className={stylesImageGalleryItem.ImageGalleryItem}\n    onClick={() => onOpenModalWindow(imageItem.largeImageURL)}\n  >\n    <img\n      src={imageItem.webformatURL}\n      alt=\"\"\n      className={stylesImageGalleryItem.ImageGalleryItemImage}\n    />\n  </li>\n);\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  imageItem: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string,\n  }).isRequired,\n  onOpenModalWindow: PropTypes.func.isRequired,\n};\n","/* eslint-disable react/prop-types */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport stylesImageGallery from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, onOpenModalWindow }) => {\n  return (\n    <ul className={stylesImageGallery.ImageGallery}>\n      {items.map(item => (\n        <ImageGalleryItem\n          onOpenModalWindow={onOpenModalWindow}\n          key={item.id}\n          imageItem={item}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }).isRequired,\n  ).isRequired,\n  onOpenModalWindow: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport stylesButton from './Button.module.css';\n\nconst Button = ({ onNextPage }) => (\n  <>\n    <button type=\"button\" className={stylesButton.Button} onClick={onNextPage}>\n      Load more!\n    </button>\n  </>\n);\nexport default Button;\n\nButton.propTypes = {\n  onNextPage: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\n\nexport const fetchItems = (query = ' ', page = 1) => {\n  const key = '14434329-dadff0c139e9bcb546c4a6d4b';\n  const path = `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n  return axios.get(path);\n};\n\nexport const yo = () => {};\n","import React from 'react';\nimport LoaderComponent from 'react-loader-spinner';\nimport stylesLoader from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={stylesLoader.loader}>\n      <LoaderComponent\n        type=\"Bars\"\n        color=\"red\"\n        height={150}\n        width={150}\n        timeout={3000}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport stylesModal from './Modal.module.css';\n\nconst Modal = ({ largeImage, closeModalWindow }) => {\n  return (\n    <div className={stylesModal.Overlay} onClick={closeModalWindow}>\n      <div className={stylesModal.Modal}>\n        <img src={largeImage} alt=\"\" />\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n\nModal.propTypes = {\n  largeImage: PropTypes.string.isRequired,\n  closeModalWindow: PropTypes.func.isRequired,\n};\n","/* eslint-disable no-console */\n/* eslint-disable no-undef */\n/* eslint-disable react/no-unused-state */\nimport React, { Component } from 'react';\nimport SearchBar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport { fetchItems } from './services/api';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    query: '',\n    page: 1,\n    items: [],\n    isLoading: false,\n    isModalWindowOpen: false,\n    largeImage: '',\n  };\n\n  componentDidMount() {\n    const { query, page } = this.state;\n    this.getItemsFromServer(query, page);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, query, items } = this.state;\n    if (prevState.page !== page || prevState.query !== query) {\n      this.getItemsFromServer(query, page);\n    }\n    if (prevState.items !== items && items.length > 12) {\n      setTimeout(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      }, 800);\n      // window.scrollTo({\n      //   top: document.documentElement.scrollHeight,\n      //   behavior: 'smooth',\n      // });\n    }\n  }\n\n  getItemsFromServer = (query, page) => {\n    this.setState({ isLoading: true });\n    fetchItems(query, page)\n      .then(resData =>\n        this.setState(prevState => ({\n          items: [...prevState.items, ...resData.data.hits],\n        })),\n      )\n      // .then(() => this.setState({ isLoading: false }))\n      .then(() =>\n        setTimeout(() => {\n          this.setState({ isLoading: false });\n        }, 700),\n      )\n      .catch(err => console.log('Hey! Error:', err));\n  };\n\n  nextPage = () => {\n    const { items } = this.state;\n    if (items.length > 0) {\n      this.setState(prevState => ({\n        page: prevState.page + 1,\n      }));\n    }\n  };\n\n  onSubmit = queryOnSubmit => {\n    this.setState({ query: queryOnSubmit, items: [], page: 1 });\n  };\n\n  openModalWindow = largeImage => {\n    this.setState({ isModalWindowOpen: true, largeImage });\n    window.addEventListener('keydown', this.closeModalWindow);\n  };\n\n  closeModalWindow = evt => {\n    if (evt.target === evt.currentTarget || evt.keyCode === 27)\n      this.setState({ isModalWindowOpen: false });\n    window.removeEventListener('keydown', this.closeModalWindow);\n  };\n\n  render() {\n    const { items, isLoading, isModalWindowOpen, largeImage } = this.state;\n    return (\n      <>\n        <SearchBar onSubmit={this.onSubmit} />\n        <ImageGallery items={items} onOpenModalWindow={this.openModalWindow} />\n        {isLoading && <Loader />}\n        <Button onNextPage={this.nextPage} />\n        {isModalWindowOpen && (\n          <Modal\n            largeImage={largeImage}\n            closeModalWindow={this.closeModalWindow}\n          />\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};"],"sourceRoot":""}